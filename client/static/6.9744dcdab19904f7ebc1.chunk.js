webpackJsonp([6],{790:function(i,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),e=r(900),s=r(796),o=r(836),a=r(452);r.d(t,"PermissionModule",function(){return c});var c=function(){function i(){}return i}();c=__decorate([r.i(n.i)({imports:[e.a,a.a],declarations:[e.b],providers:[s.a,o.a]})],c)},796:function(i,t,r){"use strict";var n=r(0),e=r(96),s=r(278);r.d(t,"a",function(){return o});var o=function(){function i(i,t){this.http=i,this.config=t,this.actionUrl=t.ServerWithApiUrl+"permissions"}return i.prototype.addPermission=function(i){return this.http.post(this.actionUrl,i)},i.prototype.updatePermission=function(i){return this.http.put(this.actionUrl+"/"+i.id,i)},i.prototype.deletePermission=function(i){return this.http.delete(this.actionUrl+"/"+i)},i.prototype.getPermissions=function(){return this.http.get(this.actionUrl)},i.prototype.getPermissionById=function(i){return this.http.get(this.actionUrl+"/"+i)},i.prototype.getPermissionByRole=function(i){return this.http.get(this.actionUrl+"/role/"+i)},i}();o=__decorate([r.i(n.p)(),__metadata("design:paramtypes",[s.a,e.a])],o)},836:function(i,t,r){"use strict";var n=r(0),e=r(796);r.d(t,"a",function(){return s});var s=function(){function i(i){this.PermissionService=i}return i.prototype.resolve=function(i,t){return this.PermissionService.getPermissionById(i.params.id)},i}();s=__decorate([r.i(n.p)(),__metadata("design:paramtypes",[e.a])],s)},842:function(i,t){i.exports='<div class="container">\r\n    <h2>Permissions</h2>\r\n    <br>\r\n    <form [formGroup]="permissionForm" (ngSubmit)="onSubmit()">\r\n        <div class="form-group">\r\n            <label>Name:</label>\r\n            <input type="text" #refName class="form-control" formControlName="name" placeholder="permission name">\r\n            <nsdc-validator [control]="permissionForm.controls[\'name\']"></nsdc-validator>\r\n        </div>\r\n        <div class="form-group">\r\n            <label>Short Name:</label>\r\n            <input type="text" #refName class="form-control" formControlName="short_name" placeholder="permission short name">\r\n            <nsdc-validator [control]="permissionForm.controls[\'short_name\']"></nsdc-validator>\r\n        </div>\r\n        <div class="form-group">\r\n            <label>Description:</label>\r\n            <input type="text" #refName class="form-control" formControlName="description" placeholder="Description">\r\n            <nsdc-validator [control]="permissionForm.controls[\'description\']"></nsdc-validator>\r\n        </div>\r\n        <button type="submit" class="btn btn-primary">Submit</button>    \r\n    </form>\r\n</div>\r\n'},897:function(i,t,r){"use strict";var n=r(0),e=r(177),s=r(80),o=r(901),a=r(796);r.d(t,"a",function(){return c});var c=function(){function i(i,t,r){this._formBuilder=i,this.permissionService=t,this.router=r,this.submitPending=!1,this.submitFailed=!1}return i.prototype.ngOnInit=function(){this.permissionForm=this._formBuilder.group({name:["",[e.a.required]],short_name:["",[e.a.required]],description:["",[e.a.required]]}),this.permission=new o.a},i.prototype.onSubmit=function(){var i=this;this.permission.name=this.permissionForm.controls.name.value,this.permission.short_name=this.permissionForm.controls.short_name.value,this.permission.description=this.permissionForm.controls.description.value,this.permissionService.addPermission(this.permission).subscribe(function(){i.submitPending=!1,i.router.navigate(["/permissions"])},function(t){i.submitPending=!1,i.submitFailed=!0})},i}();c=__decorate([r.i(n._2)({selector:"nsdc-add-permission",template:r(842)}),__metadata("design:paramtypes",[e.b,a.a,s.a])],c)},898:function(i,t,r){"use strict";var n=r(0),e=r(177),s=r(80),o=r(796);r.d(t,"a",function(){return a});var a=function(){function i(i,t,r,n){this._formBuilder=i,this.permissionService=t,this.router=r,this.route=n,this.submitPending=!1,this.submitFailed=!1}return i.prototype.ngOnInit=function(){var i=this;this.permissionForm=this._formBuilder.group({name:["",[e.a.required]],short_name:["",[e.a.required]],description:["",[e.a.required]]}),this.route.data.subscribe(function(t){i.permission=t.permission,i.permissionForm.patchValue(i.permission)})},i.prototype.onSubmit=function(){var i=this;Object.keys(this.permissionForm.controls).forEach(function(t){return i.permission[t]=i.permissionForm.controls[t].value}),this.permissionService.updatePermission(this.permission).subscribe(function(){i.submitPending=!1,i.router.navigate(["/permissions"])},function(t){i.submitPending=!1,i.submitFailed=!0})},i}();a=__decorate([r.i(n._2)({selector:"nsdc-edit-permission",template:r(842)}),__metadata("design:paramtypes",[e.b,o.a,s.a,s.c])],a)},899:function(i,t,r){"use strict";var n=r(0),e=r(25),s=r(179),o=r(796);r.d(t,"a",function(){return a});var a=function(){function i(i,t,r,n){this.permissionService=i,this.modal=n,this.loading=!1,t.defaultViewContainer=r}return i.prototype.ngOnInit=function(){var i=this;this.loading=!0,this.permissionService.getPermissions().subscribe(function(t){i.loading=!1,i.permissions=t})},i.prototype.onDeleteClicked=function(i){var t=this;this.permissionService.deletePermission(i).subscribe(function(){return t.permissionService.getPermissions().subscribe(function(i){return t.permissions=i})})},i}();a=__decorate([r.i(n._2)({selector:"nsdc-permission-list",template:r(941)}),__metadata("design:paramtypes",[o.a,e.a,n.z,s.a])],a)},900:function(i,t,r){"use strict";var n=r(0),e=r(80),s=r(453),o=r(899),a=r(897),c=r(898),m=r(836);r.d(t,"a",function(){return p}),r.d(t,"b",function(){return d});var u=[{canActivate:[s.a],path:"add",component:a.a,data:{permission:"ADD_PERMISSIONS"}},{canActivate:[s.a],path:":id",component:c.a,data:{permission:"EDIT_PERMISSIONS"},resolve:{permission:m.a}},{canActivate:[s.a],path:"",component:o.a,data:{permission:"VIEW_PERMISSIONS"}}],p=function(){function i(){}return i}();p=__decorate([r.i(n.i)({imports:[e.b.forChild(u)],exports:[e.b]})],p);var d=[o.a,a.a,c.a]},901:function(i,t,r){"use strict";r.d(t,"a",function(){return n});var n=function(){function i(){}return i}()},941:function(i,t){i.exports='<div class="container">\r\n  <h2>Permissions</h2>\r\n  <div class="manage">\r\n    <a class="btn btn-primary right" [routerLink]="[\'/permissions/add\']">Add Permission</a>\r\n  </div>                \r\n  <table *ngIf="!loading" class="table table-hover">\r\n    <thead>\r\n      <tr>\r\n        <th>Permission Name</th>\r\n        <th>Short Name</th>\r\n        <th>Description</th>\r\n        <th></th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr *ngFor="let permission of permissions">\r\n        <td><a href="#" [routerLink]="[\'/permissions\', permission.id]" routerLinkActive="active">{{permission.name}}</a></td>\r\n        <td>{{permission.short_name}}</td>\r\n        <td>{{permission.description}}</td>\r\n        <td class="options">\r\n          <button class="btn btn-danger right"\r\n                  [nsdcConfirmModal]="\'Are you sure you want to delete this permission?\'"\r\n                  (confirmed)="onDeleteClicked(permission.id)">\r\n            Delete\r\n          </button>\r\n          <button\r\n            class="btn btn-primary btn-extra right"\r\n            [routerLink]="[\'/permissions\', permission.id]">\r\n            Edit\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n  <nsdc-loading *ngIf="loading"></nsdc-loading>\r\n</div>\r\n'}});