<div>
  <h2>Journey Audit</h2>
  <br />
  <div *ngIf="!journeyDropdownLoading" class="form-group">
    <select
      class="form-control"
      (change)="onJourneySelectChange($event.target.value)"
    >
      <option style="display:block" value="">Choose a Journey</option>
      <option
        *ngFor="let journey of journeys"
        [value]="journey.id"
      >
        {{ journey.name }}
      </option>
    </select>
  </div>
  <div *ngIf="!fileDropdownLoading && selectedJourneyId" class="form-group">
    <select
      class="form-control"
      (change)="onFileSelectChange($event.target.value)"
    >
      <option style="display:block" value="">Choose a File</option>
      <option
        *ngFor="let file of files"
        [value]="file.id"
      >
        {{ file.name }}
      </option>
    </select>
  </div>
  <table *ngIf="selectedFileId && !loading" class="table">
    <thead>
    <tr>
      <th>Journey Step</th>
      <th>Status</th>
      <th>Description</th>
      <th>Start Time</th>
      <th>End Time</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let audit of audits">
      <td>{{ audit.step }}</td>
      <td>{{ audit.status }}</td>
      <td>{{ audit.description }}</td>
      <td>{{ audit.start_time }}</td>
      <td>{{ audit.end_time }}</td>
    </tr>
    </tbody>
  </table>
  <loading *ngIf="loading"></loading>
</div>
