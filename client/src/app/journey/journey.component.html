<div class="container">
  <h3>Journeys</h3>
  <div class="manage">
    <button
            class="btn btn-primary right"
            [routerLink]="['/journeys/add']"
    >
      Add Journey
    </button>
  </div>
  <br />
  <div *ngIf="!loading">
    <table class="journey-table table table-hover">
      <thead>
      <tr>
        <th>Journey Name</th>
        <th>Description</th>
        <th></th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let journey of journeys" [ngClass]="{'row-selected': selectedJourney?.id == journey.id }" (click)="onSelectJourney(journey)">
        <td>{{ journey.name }}</td>
        <td>{{ journey.description }}</td>
        <td>{{ journey.validator }}</td>
        <td class="options options-large">
          <a class="icon-links glyphicon glyphicon-remove right" (click)="onDeleteClicked(journey.id)"></a>
          <a class="icon-links glyphicon glyphicon-edit right" [routerLink]="['/journeys', journey.id]"></a>
        <td>
      </tr>
      </tbody>
    </table>
    <div class="journey-section" *ngIf="!loading && versions">
      <h3>{{ selectedJourney.name }} Versions</h3>
      <div class="manage">
        <button
                class="btn btn-primary right"
                [routerLink]="['/journeys/versions/add']"
        >
          Add Version
        </button>
      </div>
      <table class="journey-table table table-hover">
        <thead>
        <tr>
          <th>Version Number</th>
          <th>Validator</th>
          <th></th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let version of versions">
          <td>{{ version.version_number }}</td>
          <td>{{ version.validator }}</td>
          <td class="options options-large">
            <a class="icon-links glyphicon glyphicon-remove right" (click)="onDeleteClicked(version.id)"></a>
            <a class="icon-links glyphicon glyphicon-edit right" [routerLink]="['/journeys', version.id]"></a>
          <td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
  <loading *ngIf="loading"></loading>
</div>
