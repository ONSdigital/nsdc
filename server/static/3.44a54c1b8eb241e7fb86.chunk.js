webpackJsonp([3],{1198:function(e,t,n){var i=n(931);"string"==typeof i?e.exports=i:e.exports=i.toString()},1199:function(e,t,n){var i=n(932);"string"==typeof i?e.exports=i:e.exports=i.toString()},797:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(889),r=n(802),a=n(811),s=n(884),d=n(459);n.d(t,"FileUploadModule",function(){return p});var p=function(){function e(){}return e}();p=__decorate([n.i(i.i)({imports:[s.a,o.a,d.a],declarations:[s.b],providers:[r.a,a.a]})],p)},802:function(e,t,n){"use strict";var i=n(0),o=n(96),r=n(280);n.d(t,"a",function(){return a});var a=function(){function e(e,t){this.http=e,this.config=t,this.actionUrl=t.ServerWithApiUrl+"journeys",this.versionUrl=this.actionUrl+"/versions"}return e.prototype.addJourney=function(e){return this.http.post(this.actionUrl,e)},e.prototype.getJourneys=function(){return this.http.get(this.actionUrl)},e.prototype.updateJourney=function(e){return this.http.put(this.actionUrl+"/"+e.id,e)},e.prototype.getAllJourneyVersions=function(){return this.http.get(this.versionUrl)},e.prototype.getVersionsByRole=function(e){return this.http.get(this.versionUrl+"/roles/"+e)},e.prototype.getJourneyById=function(e){return this.http.get(this.actionUrl+"/"+e)},e.prototype.deleteJourney=function(e){return this.http.delete(this.actionUrl+"/"+e)},e.prototype.getSteps=function(){return this.http.get(this.actionUrl+"/steps")},e.prototype.getStepsByJourneyVersion=function(e){return this.http.get(this.versionUrl+"/"+e+"/steps")},e.prototype.addJourneyVersion=function(e){return this.http.post(this.versionUrl,e)},e.prototype.updateJourneyVersion=function(e){return this.http.put(this.versionUrl+"/"+e.id,e)},e.prototype.getJourneyVersions=function(e){return this.http.get(this.actionUrl+"/"+e+"/versions")},e.prototype.getJourneyVersionById=function(e){return this.http.get(this.versionUrl+"/"+e)},e.prototype.updateJourneyVersionSteps=function(e,t){return this.http.post(this.versionUrl+"/"+e+"/updatesteps",{steps:t})},e.prototype.deleteJourneyVersion=function(e){return this.http.delete(this.versionUrl+"/"+e)},e}();a=__decorate([n.i(i.p)(),__metadata("design:paramtypes",[r.a,o.a])],a)},811:function(e,t,n){"use strict";var i=n(0),o=n(96),r=n(280);n.d(t,"a",function(){return a});var a=function(){function e(e,t){this.http=e,this.config=t,this.actionUrl=t.ServerWithApiUrl+"schedules"}return e.prototype.getSchedulesByVersion=function(e){return this.http.get(this.config.ServerWithApiUrl+("journeys/versions/"+e+"/schedules"))},e.prototype.getNextValidScheduleByVersion=function(e){return this.http.get(this.config.ServerWithApiUrl+("journeys/versions/"+e+"/schedules?with-version=true"))},e.prototype.getScheduleById=function(e){return this.http.get(this.config.ServerWithApiUrl+"schedules/"+e)},e.prototype.addSchedule=function(e){return this.http.post(this.actionUrl,e)},e.prototype.updateSchedule=function(e){return this.http.put(this.actionUrl+"/"+e.id,e)},e.prototype.deleteSchedule=function(e){return this.http.delete(this.actionUrl+"/"+e)},e}();a=__decorate([n.i(i.p)(),__metadata("design:paramtypes",[r.a,o.a])],a)},817:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(838);n.d(t,"NgUploaderService",function(){return r}),n.d(t,"NgUploaderServiceProvider",function(){return a});var r=function(){function e(){this._queue=[],this._emitter=new i.G,this._previewEmitter=new i.G,this._beforeEmitter=new i.G}return e.prototype.setOptions=function(e){this.opts=e},e.prototype.uploadFilesInQueue=function(){var e=this;this._queue.forEach(function(t){t.uploading||e.uploadFile(t)})},e.prototype.uploadFile=function(e){var t=this,n=new XMLHttpRequest,i=new FormData;i.append(this.opts.fieldName,e,e.name),Object.keys(this.opts.data).forEach(function(e){i.append(e,t.opts.data[e])});var r=new o.a(this.generateRandomIndex(),e.name,e.size),a=this._queue.indexOf(e),s=(new Date).getTime(),d=0,p=0,l=null;n.upload.onprogress=function(e){if(e.lengthComputable){t.opts.calculateSpeed&&(s=(new Date).getTime()-s,d=e.loaded-d,p=d/s*1e3,p=parseInt(p,10),l=t.humanizeBytes(p));var n=Math.round(e.loaded/e.total*100);0===p?r.setProgress({total:e.total,loaded:e.loaded,percent:n}):r.setProgress({total:e.total,loaded:e.loaded,percent:n,speed:p,speedHumanized:l}),t._emitter.emit(r)}},n.upload.onabort=function(e){r.setAbort(),t._emitter.emit(r)},n.upload.onerror=function(e){r.setError(),t._emitter.emit(r)},n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&(r.onFinished(n.status,n.statusText,n.response),t.removeFileFromQueue(a),t._emitter.emit(r))},n.open(this.opts.method,this.opts.url,!0),n.withCredentials=this.opts.withCredentials,this.opts.customHeaders&&Object.keys(this.opts.customHeaders).forEach(function(e){n.setRequestHeader(e,t.opts.customHeaders[e])}),this.opts.authToken&&n.setRequestHeader("Authorization",this.opts.authTokenPrefix+" "+this.opts.authToken),this._beforeEmitter.emit(r),r.abort?this.removeFileFromQueue(a):n.send(i)},e.prototype.addFilesToQueue=function(e){var t=this;this.clearQueue(),[].forEach.call(e,function(e,n){t.inQueue(e)||t._queue.push(e)}),this.opts.previewUrl&&[].forEach.call(e,function(e){return t.createFileUrl(e)}),this.opts.autoUpload&&this.uploadFilesInQueue()},e.prototype.createFileUrl=function(e){var t=this,n=new FileReader;n.addEventListener("load",function(){t._previewEmitter.emit(n.result)}),n.readAsDataURL(e)},e.prototype.removeFileFromQueue=function(e){this._queue.splice(e,1)},e.prototype.clearQueue=function(){this._queue=[]},e.prototype.getQueueSize=function(){return this._queue.length},e.prototype.inQueue=function(e){var t=this._queue.filter(function(t){return t===e});return!!t.length},e.prototype.generateRandomIndex=function(){return Math.random().toString(36).substring(7)},e.prototype.humanizeBytes=function(e){if(0===e)return"0 Byte";var t=1024,n=["Bytes","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,i)).toFixed(2))+" "+n[i]+"/s"},e}();r=__decorate([n.i(i.p)(),__metadata("design:paramtypes",[])],r);var a={provide:r,useClass:r}},822:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(871);n.d(t,"NgUploaderOptions",function(){return i.a});var o=n(838);n.d(t,"UploadedFile",function(){return o.a});var r=n(872);n.d(t,"UploadRejected",function(){return r.a})},823:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(817),r=n(822);n.d(t,"NgFileDropDirective",function(){return a});var a=function(){function e(e,t){this.el=e,this.uploader=t,this.onUpload=new i.G,this.onPreviewData=new i.G,this.onFileOver=new i.G,this.onUploadRejected=new i.G,this.beforeUpload=new i.G,this.files=[]}return e.prototype.ngOnInit=function(){var e=this;this.uploader._emitter.subscribe(function(t){e.onUpload.emit(t),t.done&&e.files&&e.files.length&&(e.files=[].filter.call(e.files,function(e){return e.name!==t.originalName}))}),this.uploader._previewEmitter.subscribe(function(t){e.onPreviewData.emit(t)}),this.uploader._beforeEmitter.subscribe(function(t){e.beforeUpload.emit(t)}),setTimeout(function(){e.events instanceof i.G&&e.events.subscribe(function(t){"startUpload"===t&&e.uploader.uploadFilesInQueue()})}),this.initEvents()},e.prototype.ngOnChanges=function(e){this.options&&(this.options=new r.NgUploaderOptions(this.options),this.uploader.setOptions(this.options))},e.prototype.initEvents=function(){var e=this;"undefined"!=typeof this.el.nativeElement.addEventListener&&(this.el.nativeElement.addEventListener("drop",function(t){t.stopPropagation(),t.preventDefault(),e.onFileOver.emit(!1),e.files=Array.from(t.dataTransfer.files),e.files.length&&e.uploader.addFilesToQueue(e.files)},!1),this.el.nativeElement.addEventListener("dragenter",function(e){e.stopPropagation(),e.preventDefault()},!1),this.el.nativeElement.addEventListener("dragover",function(e){e.stopPropagation(),e.preventDefault()},!1))},e.prototype.onChange=function(){var e=this;this.files=this.el.nativeElement.files,this.files&&(this.options.filterExtensions&&this.options.allowedExtensions&&this.files&&this.files.length&&(this.files=this.files.filter(function(t){if(e.options.allowedExtensions.indexOf(t.type)!==-1)return!0;var n=t.name.split(".").pop();return e.options.allowedExtensions.indexOf(n)!==-1||(e.onUploadRejected.emit({file:t,reason:r.UploadRejected.EXTENSION_NOT_ALLOWED}),!1)})),this.files.length&&this.uploader.addFilesToQueue(this.files))},e.prototype.onDragOver=function(e){this.onFileOver.emit(!0)},e.prototype.onDragLeave=function(e){this.onFileOver.emit(!1)},e}();__decorate([n.i(i.w)(),__metadata("design:type",r.NgUploaderOptions)],a.prototype,"options",void 0),__decorate([n.i(i.w)(),__metadata("design:type",i.G)],a.prototype,"events",void 0),__decorate([n.i(i._1)(),__metadata("design:type",i.G)],a.prototype,"onUpload",void 0),__decorate([n.i(i._1)(),__metadata("design:type",i.G)],a.prototype,"onPreviewData",void 0),__decorate([n.i(i._1)(),__metadata("design:type",i.G)],a.prototype,"onFileOver",void 0),__decorate([n.i(i._1)(),__metadata("design:type",i.G)],a.prototype,"onUploadRejected",void 0),__decorate([n.i(i._1)(),__metadata("design:type",i.G)],a.prototype,"beforeUpload",void 0),__decorate([n.i(i.Z)("change"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],a.prototype,"onChange",null),__decorate([n.i(i.Z)("dragover",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],a.prototype,"onDragOver",null),__decorate([n.i(i.Z)("dragleave",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",Object)],a.prototype,"onDragLeave",null),a=__decorate([n.i(i.v)({selector:"[ngFileDrop]"}),__param(0,n.i(i.q)(i.C)),__param(1,n.i(i.q)(o.NgUploaderService)),__metadata("design:paramtypes",[i.C,o.NgUploaderService])],a)},824:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(817),r=n(822);n.d(t,"NgFileSelectDirective",function(){return a});var a=function(){function e(e,t){this.el=e,this.uploader=t,this.onUpload=new i.G,this.onPreviewData=new i.G,this.onUploadRejected=new i.G,this.beforeUpload=new i.G,this.files=[]}return e.prototype.ngOnChanges=function(e){var t=this;this.options&&(this.uploader.setOptions(new r.NgUploaderOptions(this.options)),this.uploader._emitter.subscribe(function(e){t.onUpload.emit(e),e.done&&t.files&&t.files.length&&(t.files=[].filter.call(t.files,function(t){return t.name!==e.originalName}))}),this.uploader._previewEmitter.subscribe(function(e){t.onPreviewData.emit(e)}),this.uploader._beforeEmitter.subscribe(function(e){t.beforeUpload.emit(e)}),this.events instanceof i.G&&this.events.subscribe(function(e){"startUpload"===e&&t.uploader.uploadFilesInQueue()}))},e.prototype.onChange=function(){var e=this;this.files=this.el.nativeElement.files,this.files&&(this.options.filterExtensions&&this.options.allowedExtensions&&this.files&&this.files.length&&(this.files=this.files.filter(function(t){if(e.options.allowedExtensions.indexOf(t.type)!==-1)return!0;var n=t.name.split(".").pop();return e.options.allowedExtensions.indexOf(n)!==-1||(e.onUploadRejected.emit({file:t,reason:r.UploadRejected.EXTENSION_NOT_ALLOWED}),!1)})),this.files.length&&this.uploader.addFilesToQueue(this.files))},e}();__decorate([n.i(i.w)(),__metadata("design:type",r.NgUploaderOptions)],a.prototype,"options",void 0),__decorate([n.i(i.w)(),__metadata("design:type",i.G)],a.prototype,"events",void 0),__decorate([n.i(i._1)(),__metadata("design:type",i.G)],a.prototype,"onUpload",void 0),__decorate([n.i(i._1)(),__metadata("design:type",i.G)],a.prototype,"onPreviewData",void 0),__decorate([n.i(i._1)(),__metadata("design:type",i.G)],a.prototype,"onUploadRejected",void 0),__decorate([n.i(i._1)(),__metadata("design:type",i.G)],a.prototype,"beforeUpload",void 0),__decorate([n.i(i.Z)("change"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],a.prototype,"onChange",null),a=__decorate([n.i(i.v)({selector:"[ngFileSelect]"}),__param(0,n.i(i.q)(i.C)),__param(1,n.i(i.q)(o.NgUploaderService)),__metadata("design:paramtypes",[i.C,o.NgUploaderService])],a)},830:function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}var o=n(823),r=n(824);i(n(823)),i(n(824)),i(n(817));var a=n(822);t.NgUploaderOptions=a.NgUploaderOptions,t.UploadedFile=a.UploadedFile,t.UploadRejected=a.UploadRejected;var s=n(873);t.NgUploaderModule=s.NgUploaderModule,t.UPLOAD_DIRECTIVES=[r.NgFileSelectDirective,o.NgFileDropDirective]},838:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(e,t,n){this.id=e,this.originalName=t,this.size=n,this.progress={loaded:0,total:0,percent:0,speed:0,speedHumanized:null},this.done=!1,this.error=!1,this.abort=!1,this.startTime=(new Date).getTime(),this.endTime=0,this.speedAverage=0,this.speedAverageHumanized=null}return e.prototype.setProgress=function(e){this.progress=e},e.prototype.setError=function(){this.error=!0,this.done=!0},e.prototype.setAbort=function(){this.abort=!0,this.done=!0},e.prototype.onFinished=function(e,t,n){this.endTime=(new Date).getTime(),this.speedAverage=this.size/(this.endTime-this.startTime)*1e3,this.speedAverage=parseInt(this.speedAverage,10),this.speedAverageHumanized=this.humanizeBytes(this.speedAverage),this.status=e,this.statusText=t,this.response=n,this.done=!0},e.prototype.humanizeBytes=function(e){if(0===e)return"0 Byte";var t=1024,n=["Bytes","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,i)).toFixed(2))+" "+n[i]+"/s"},e}()},871:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(e){function t(t,n){return e&&void 0!==t?t:n}this.url=t(e.url,""),this.cors=t(e.cors,!0),this.withCredentials=t(e.withCredentials,!1),this.multiple=t(e.multiple,!0),this.maxUploads=t(e.maxUploads,10),this.data=t(e.data,{}),this.autoUpload=t(e.autoUpload,!0),this.multipart=t(e.multipart,!1),this.method=t(e.method,"POST"),this.customHeaders=t(e.customHeaders,{}),this.encodeHeaders=t(e.encodeHeaders,!1),this.authTokenPrefix=t(e.authTokenPrefix,"Bearer"),this.authToken=t(e.authToken,void 0),this.fieldName=t(e.fieldName,"file"),this.fieldReset=t(e.fieldReset,!1),this.previewUrl=t(e.previewUrl,void 0),this.calculateSpeed=t(e.calculateSpeed,!0),this.filterExtensions=t(e.filterExtensions,!1),this.allowedExtensions=t(e.allowedExtensions,[])}return e}()},872:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){}return Object.defineProperty(e,"EXTENSION_NOT_ALLOWED",{get:function(){return"ExtensionNotAllowed"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"MAX_SIZE_EXCEEDED",{get:function(){return"MaxSizeExceeded"},enumerable:!0,configurable:!0}),e}()},873:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(823),r=n(824),a=n(817);n.d(t,"NgUploaderModule",function(){return s});var s=function(){function e(){}return e}();s=__decorate([n.i(i.i)({declarations:[o.NgFileDropDirective,r.NgFileSelectDirective],providers:[a.NgUploaderServiceProvider],exports:[o.NgFileDropDirective,r.NgFileSelectDirective]})],s)},884:function(e,t,n){"use strict";var i=n(0),o=n(82),r=n(460),a=n(885),s=n(886);n.d(t,"a",function(){return p}),n.d(t,"b",function(){return l});var d=[{canActivate:[r.a],path:"",component:a.a,data:{permission:"DATA_IMPORT"}},{canActivate:[r.a],path:":id",component:s.a,data:{permission:"DATA_IMPORT"}}],p=function(){function e(){}return e}();p=__decorate([n.i(i.i)({imports:[o.b.forChild(d)],exports:[o.b]})],p);var l=[a.a,s.a]},885:function(e,t,n){"use strict";var i=n(0),o=n(184),r=n(802),a=n(811),s=n(3);n.n(s);n.d(t,"a",function(){return d});var d=function(){function e(e,t,n){this.userAccountService=e,this.journeyService=t,this.scheduleService=n,this.loading=!1}return e.prototype.ngOnInit=function(){var e=this;this.loading=!0,this.userAccountService.getUser().mergeMap(function(t){return e.journeyService.getVersionsByRole(t.role.id)}).mergeMap(function(t){var n=t.map(function(t){return e.scheduleService.getNextValidScheduleByVersion(t.id)});return s.Observable.forkJoin(n).map(function(e){return e.filter(function(e){return null!==e})})}).subscribe(function(t){e.loading=!1,e.journeyVersionSchedules=t})},e}();d=__decorate([n.i(i._2)({selector:"nsdc-file-upload",template:n(942)}),__metadata("design:paramtypes",[o.a,r.a,a.a])],d)},886:function(e,t,n){"use strict";var i=n(0),o=n(82),r=n(811),a=n(830),s=(n.n(a),n(51)),d=n(96);n.d(t,"a",function(){return p});var p=function(){function e(e,t,n,i,o){this.route=e,this.scheduleService=t,this.loginService=n,this.router=i,this.config=o,this.loading=!1,this.URL=o.Server+"nsdc/v1.0/upload"}return e.prototype.ngOnInit=function(){var e=this;this.loading=!0,this.route.params.subscribe(function(t){var n=Number(t.id);e.scheduleService.getNextValidScheduleByVersion(n).subscribe(function(t){e.journeyVersionSchedule=t,e.options=new a.NgUploaderOptions({url:e.URL,multiple:!1,autoUpload:!1,customHeaders:{"X-TOKEN":e.loginService.getSessionId()},data:{schedule_id:t.schedule_id}}),e.validator=new RegExp(t.validator.replace("*",".*")),e.loading=!1})})},e.prototype.uploadAnother=function(){this.router.navigate(["upload"])},e}();p=__decorate([n.i(i._2)({selector:"nsdc-journey-file-upload",template:n(943),styles:[n(1198)]}),__metadata("design:paramtypes",[o.c,r.a,s.a,o.a,d.a])],p)},887:function(e,t,n){"use strict";var i=n(0),o=n(830);n.n(o);n.d(t,"a",function(){return r});var r=function(){function e(e,t){this.el=e,this.uploader=t,this.uploadError=!1,this.uploadComplete=!1,this.uploading=!1,this.hasBaseDropZoneOver=!1,this.fileErrorMessages=[],this.onUploadAnother=new i.G}return e.prototype.ngOnInit=function(){this.zone=new i.I({enableLongStackTrace:!1}),this.extensions=this.allowedExtensions&&this.allowedExtensions.split(",")},e.prototype.startUpload=function(){if(this.fileErrorMessages=[],this.uploader._queue.length){var e=this.uploader._queue[0];if(this.validateFile(e.name)||this.fileErrorMessages.push("File not accepted by validator."),this.validateFileExtension(e.name)||this.fileErrorMessages.push("File extension is not allowed."),e.uploading||this.fileErrorMessages.length)return;this.uploader.uploadFile(e)}},e.prototype.validateFileExtension=function(e){return this.extensions&&this.extensions.indexOf(e&&e.split(".").pop())!==-1},e.prototype.validateFile=function(e){return!this.validator||this.validator.test(e)},e.prototype.handleUpload=function(e){var t=this;this.zone.run(function(){if(e.error)t.uploadError=!0,t.uploading=!1,t.uploadErrorMessage="Upload Failed";else if(e&&e.done)if(200!==e.status){var n=void 0;try{n=JSON.parse(e.response)}catch(e){n={}}t.uploadErrorMessage=n.message||"Upload Failed",t.uploadError=!0,t.uploading=!1}else t.uploadComplete=!0,t.uploading=!1,t.uploadedFilename=e.response;else t.uploading=!0,t.uploadingPercentage=e.progress.percent,t.uploadingSpeedHumanized=e.progress.speedHumanized})},e.prototype.fileOverBase=function(e){this.hasBaseDropZoneOver=e},e.prototype.tryAgain=function(){this.uploader.clearQueue();var e=this.el.nativeElement.getElementsByClassName("file-input");e&&e.length>0&&(e[0].value=""),this.uploadComplete=!1,this.uploadError=!1},e.prototype.uploadAnother=function(){this.onUploadAnother.emit()},e}();__decorate([n.i(i.w)(),__metadata("design:type",String)],r.prototype,"allowedExtensions",void 0),__decorate([n.i(i.w)(),__metadata("design:type",RegExp)],r.prototype,"validator",void 0),__decorate([n.i(i.w)(),__metadata("design:type",o.NgUploaderOptions)],r.prototype,"options",void 0),__decorate([n.i(i._1)(),__metadata("design:type",Object)],r.prototype,"onUploadAnother",void 0),r=__decorate([n.i(i._2)({selector:"nsdc-file-uploader",template:n(944),styles:[n(1199)]}),__metadata("design:paramtypes",[i.C,o.NgUploaderService])],r)},888:function(e,t,n){"use strict";var i=n(0),o=n(830),r=(n.n(o),n(887)),a=n(459);n.d(t,"a",function(){return s});var s=function(){function e(){}return e}();s=__decorate([n.i(i.i)({imports:[o.NgUploaderModule,a.a],exports:[r.a],declarations:[r.a],providers:[]})],s)},889:function(e,t,n){"use strict";var i=n(888);n.d(t,"a",function(){return i.a})},931:function(e,t,n){t=e.exports=n(127)(),t.push([e.i,".panel-flex{display:flex;flex-direction:row}",""])},932:function(e,t,n){t=e.exports=n(127)(),t.push([e.i,".dnd-container{user-select:none;width:100%;height:200px;padding:10px;border:3px dashed #aaa;border-radius:20px;margin-top:20px;margin-bottom:10px}.dnd{font-weight:700;display:block;text-align:center;font-size:22px;color:#c9302c;margin-top:40px}.file-over{border:3px dotted #d9534f}.btn-upload{margin:20px auto 0}.btn-upload,.btn-upload-submit{width:200px;display:block;font-weight:700;font-size:16px;text-align:center;padding:10px 50px}.btn-upload-submit{margin:10px auto 0}.upload-filename{font-size:16px;width:100%;text-align:center;padding:15px 15px 0}.btn-upload-another{margin-top:15px}",""])},942:function(e,t){e.exports='<div>\n  <h2>File Upload</h2>\n  <br />\n  <div  *ngIf="!loading">\n    <table class="table" *ngIf="journeyVersionSchedules && journeyVersionSchedules.length">\n      <thead>\n      <tr>\n        <th>Journey</th>\n        <th>Version</th>\n        <th>Schedule Date</th>\n        <th></th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr *ngFor="let journeyVersionSchedule of journeyVersionSchedules">\n        <td>{{ journeyVersionSchedule.name }}</td>\n        <td>{{ journeyVersionSchedule.version_number }}</td>\n        <td>{{ journeyVersionSchedule.date | date:"MMMM y" }}</td>\n        <td class="options options-large">\n          <button class="btn btn-primary right" [routerLink]="[\'/upload\', journeyVersionSchedule.id]">\n            Upload\n          </button>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n    <div *ngIf="!journeyVersionSchedules.length">\n      You do not have any scheduled uploads at the moment.\n    </div>\n  </div>\n  <nsdc-loading *ngIf="loading"></nsdc-loading>\n</div>\n'},943:function(e,t){e.exports='<div *ngIf="!loading">\n  <div class="row">\n    <div class="col-md-12">\n      <h2>File Upload for Journey: {{journeyVersionSchedule.name}} (V{{journeyVersionSchedule.version_number}})</h2>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-md-6">\n      <h3>Schedule: {{journeyVersionSchedule.date | date:"MMMM y"}}</h3>\n    </div>\n    <div class="col-md-6">\n      <h3>File Validator: {{journeyVersionSchedule.validator}}</h3>\n      <h3>Valid Extensions: {{journeyVersionSchedule.extensions}}</h3>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-md-12">\n      <nsdc-file-uploader\n        [validator]="validator"\n        [allowedExtensions]="journeyVersionSchedule.extensions"\n        [options]="options"\n        (onUploadAnother)="uploadAnother($event)"\n      >\n      </nsdc-file-uploader>\n    </div>\n  </div>\n</div>\n<nsdc-loading *ngIf="loading"></nsdc-loading>\n'},944:function(e,t){e.exports='<div [hidden]="uploading || uploadComplete || uploadError">\n  <p>\n    Drag and drop a file into the area or browse a file via button.\n  </p>\n  <div class="row">\n    <div class="col-md-12">\n      <div\n        class="dnd-container"\n        ngFileDrop\n        [options]="options"\n        (onUpload)="handleUpload($event)"\n        [ngClass]="{\'file-over\': hasBaseDropZoneOver}"\n        (onFileOver)="fileOverBase($event)"\n      >\n        <h2 class="dnd">\n          Drag & Drop\n        </h2>\n        <label class="btn btn-danger btn-upload">\n          <input\n            class="hidden file-input"\n            type="file"\n            ngFileSelect\n            [options]="options"\n            (onUpload)="handleUpload($event)"\n          >\n          Browse\n        </label>\n        <div class="upload-filename" *ngIf="uploader._queue.length">\n          File Name: {{uploader._queue[0].name}}\n        </div>\n      </div>\n    </div>\n  </div>\n  <nsdc-error-alert [errorMessages]="fileErrorMessages"></nsdc-error-alert>\n  <div class="row">\n    <div class="col-md-12">\n      <button\n        type="submit"\n        class="btn btn-primary btn-upload-submit"\n        (click)="startUpload()"\n        [disabled]="!uploader._queue.length"\n      >\n        Submit\n      </button>\n    </div>\n  </div>\n</div>\n<div *ngIf="uploading">\n  Uploading\n  <div class="progress">\n    <div\n      class="progress-bar progress-bar-success progress-bar-striped"\n      role="progressbar"\n      [attr.aria-valuenow]="uploadingPercentage"\n      aria-valuemin="0"\n      aria-valuemax ="100"\n      style="min-width: 2em;"\n      [style.width]="uploadingPercentage + \'%\'"\n    >\n      {{uploadingPercentage}}%\n    </div>\n  </div>\n  {{uploadingSpeedHumanized}}\n</div>\n<div *ngIf="uploadError">\n  <p>\n    Error\n  </p>\n  <p>\n    There was a problem uploading this file.\n  </p>\n  <p>\n    {{uploadErrorMessage}}\n  </p>\n  <div>\n    <button\n      class="btn btn-primary btn-upload-another"\n      (click)="tryAgain()"\n    >\n      Try Again\n    </button>\n  </div>\n</div>\n<div *ngIf="uploadComplete">\n  <p>File Upload Complete.</p>\n  <p>You can track the file on the audit screen if you have permission or upload another.</p>\n  <p>File name on server: {{uploadedFilename}}</p>\n  <div>\n    <button\n      class="btn btn-primary btn-upload-another"\n      (click)="uploadAnother()"\n    >\n      Upload Another\n    </button>\n  </div>\n</div>\n'}});